from PIL import Image as im
import numpy as np


def readBitmapFromFile(fileName):
    return np.asarray(im.open(fileName))


def readBitmaps():
    bitmaps = []
    for i in range(0, 2):
        for j in range(0, 10):
            bitmaps.append(readBitmapFromFile("pictures/samolot" + str(i) + str(j) + ".jpg"))
    bitmaps.append(readBitmapFromFile("pictures/samolot20.jpg"))
    return bitmaps


def writeBitmapToFile(bitmap):
    image = im.fromarray(np.uint8(bitmap))
    image.save("test.jpg")


def calculateAveragesRGBColor(bitmap):
    rSum, gSum, bSum = 0, 0, 0
    print(bitmap.shape[0])
    for row in bitmap:
        for column in row:
            rSum += column[0]
            gSum += column[1]
            bSum += column[2]
    pixelsCount = bitmap.shape[0] * bitmap.shape[1]
    return [rSum / pixelsCount, gSum / pixelsCount, bSum / pixelsCount]


def main():
    bitmaps = readBitmaps()
    print(calculateAveragesRGBColor(bitmaps[1]))
    writeBitmapToFile(bitmaps[1])


if __name__ == '__main__':
    main()
